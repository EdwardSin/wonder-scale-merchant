<div modal class="modal">
  <div class="modal-wrap">
    <div class="modal-body">
      <div (click)="$event.stopPropagation()" class="modal-body-content">
        <form class="modal-content" style="max-width: 600px" [formGroup]="registerForm" (ngSubmit)="register()"
          *ngIf="!registerSuccess; else successContent">
          <div class="modal-close">
            <span class="fas fa-times" [routerLink]="['', {outlets: {modal:null}}]"></span>
          </div>
          <div class="ws-input">
            <input name="firstName" type="text" placeholder="First Name" class="form-control form-control-sm nooutline"
              formControlName="firstName" />
          </div>
          <div class="ws-input">
            <input name="lastName" type="text" placeholder="Last Name" class="form-control form-control-sm nooutline"
              formControlName="lastName" />
          </div>
          <div class="ws-input">
            <input name="email" type="email" placeholder="Email" class="form-control form-control-sm nooutline"
              formControlName="email" />
          </div>
          <div class="ws-input">
            <input name="tel" type="tel" placeholder="Tel" class="form-control form-control-sm nooutline"
              formControlName="tel" />
          </div>
          <div class="ws-input">

            <mat-select placeholder="Gender" formControlName="gender">
              <mat-option [value]="'male'">male</mat-option>
              <mat-option [value]="'female'">female</mat-option>
            </mat-select>
            <!-- <select name="gender" type="text" class="form-control form-control-sm nooutline" formControlName="gender">
              <option value="">Select a gender</option>
              <option value="male">male</option>
              <option value="female">female</option>
            </select> -->
          </div>
          <div formGroupName="passwordGroup">
            <div class="ws-input">
              <input name="password" type="password" placeholder="Password"
                class="form-control form-control-sm nooutline" formControlName="password" />
            </div>
            <ul class="font-9 text-muted mb-2 list-unstyled pl-3 pr-3">
              <li [class.text-success]="!password.errors?.minlength && !password.errors?.required" class="p-0">At
                least
                8
                characters</li>
              <li [class.text-success]="!password.errors?.Uppercase && !password.errors?.required" class="p-0">At
                least
                1
                uppercase</li>
              <li [class.text-success]="!password.errors?.Digit && !password.errors?.required" class="p-0">At least 1
                digit</li>
            </ul>
            <div class="ws-input">
              <input name="password" type="password" placeholder="Confirmation Password"
                class="form-control form-control-sm nooutline" formControlName="confirmPassword" />
            </div>
          </div>
          <label class="settings-label mt-3 mb-2">Birthday</label>
          <div class='input-group'>
            <div class="ws-input col mt-0">
              <mat-select placeholder="Date" formControlName="date">
                <mat-option [value]="n" *ngFor="let n of dateSelector.dates">{{n}}
                </mat-option>
              </mat-select>

              <!-- <select name="date" class="form-control form-control-sm nooutline" formControlName="date"
                (input)="dateOfBirthValidator.reset()">
                <option value="">Date</option>
                <option *ngFor="" for="birthday_date" value={{n}}>{{n}}</option>
              </select> -->
            </div>
            <div class="ws-input col mt-0">
              <mat-select placeholder="Month" formControlName="month">
                <mat-option [value]="n" *ngFor="let n of dateSelector.months">{{n}}
                </mat-option>
              </mat-select>
              <!-- <select name="month" class="form-control form-control-sm nooutline" formControlName="month"
                (input)="dateOfBirthValidator.reset()">
                <option value="">Month</option>
                <option *ngFor="let n of dateSelector.months" for="birthday_month" value={{n}}>{{n}}</option>
              </select> -->
            </div>
            <div class="ws-input col mt-0">
              <mat-select placeholder="Year" formControlName="year">
                <mat-option [value]="n" *ngFor="let n of dateSelector.years">{{n}}
                </mat-option>
              </mat-select>
              <!-- <select name="year" class="form-control form-control-sm  nooutline" formControlName="year"
                (input)="dateOfBirthValidator.reset()">
                <option value="">Year</option>
                <option *ngFor="let n of dateSelector.years" for="birthday_year" value={{n}}>{{n}}</option>
              </select> -->
            </div>
          </div>
          <div class="center">
            <mat-checkbox [color]="'primary'" class="mr-2 d-inline-block" style="vertical-align: sub"
              formControlName="receiveInfo">
            </mat-checkbox>
            <label for="receiveInfo" class="mt-2" style="display: inline-flex">
              <span class="font-8">I'd like to receive marketing<br /> and policy communications<br /> from Wonder Scale
                and its
                partners.</span>
              <span class="checkmark"></span>
            </label>
          </div>


          <div class="text-center mb-2 center" style="width: 90%">
            <ws-loading-button [class]="'btn btn-md btn-block btn-second mb-2'" [loading]="loading.isRunning()">Sign
              up
            </ws-loading-button>
          </div>
          <p class="font-weight-light">Already have a Wonder Scale account? <a class="font-weight-bold default"
              href="javascript:void(0)" [routerLink]="['',{ outlets: { modal: 'login' } }]">Log in</a></p>
        </form>
      </div>
    </div>
  </div>
</div>


<ng-template #successContent>
  <div class="modal-content">
    <!-- <div class="modal-close">
      <span class="fas fa-times" (click)="close(); "></span>
    </div> -->
    <h3 class="font-weight-bold">Sign up</h3>
    <div class="text-center mt-4 mb-4">
      <span class="far fa-check-circle" style="font-size: 5rem; color:#68DC64"></span>
    </div>

    <p class="text-center mb-3" style="font-size: .8rem">Account is created successfully.<br />
      Please check your email to activate.
    </p>
    <a href="javascript:void(0)" style="color: #000; font-size: 1.1rem; font-weight: 400"
      [routerLink]="['',{ outlets: { modal: 'login' } }]"><span class="fas fa-chevron-left mr-2"></span>Back to
      login</a>
  </div>
</ng-template>
