<div modal class="modal">
  <div class="modal-wrap">
    <div class="modal-body">
      <div (click)="$event.stopPropagation()" class="modal-body-content">
        <form class="px-lg-5 p-4 pt-5 modal-content" style="max-width: 600px" [formGroup]="registerForm" (ngSubmit)="register()"
          *ngIf="!registerSuccess; else successContent">
          <div class="modal-close">
            <span class="fas fa-times" [routerLink]="[]" [queryParams]="{modal: null}"></span>
          </div>
          <div class="ws-input">
            <input name="firstName" type="text" placeholder="First Name" class="form-control form-control-sm"
              formControlName="firstName" />
          </div>
          <div class="ws-input">
            <input name="lastName" type="text" placeholder="Last Name" class="form-control form-control-sm"
              formControlName="lastName" />
          </div>
          <div class="ws-input">
            <input name="email" type="email" placeholder="Email" class="form-control form-control-sm"
              formControlName="email" />
          </div>
          <!-- <div class="ws-input">
            <input name="tel" type="tel" placeholder="Tel" class="form-control form-control-sm"
              formControlName="tel" />
          </div> -->
          <div class="ws-input">
            <mat-select class="form-control form-control-sm" placeholder="Gender" formControlName="gender">
              <mat-option [value]="'male'">male</mat-option>
              <mat-option [value]="'female'">female</mat-option>
            </mat-select>
          </div>
          <div formGroupName="passwordGroup">
            <div class="ws-input">
              <input name="password" type="password" placeholder="Password"
                class="form-control form-control-sm" formControlName="password" />
            </div>
            <ul class="font-9 text-muted my-2 list-unstyled pl-3 pr-3">
              <li [class.text-success]="!password.errors?.minlength && !password.errors?.required" class="p-0">At
                least
                8
                characters</li>
              <li [class.text-success]="!password.errors?.Uppercase && !password.errors?.required" class="p-0">At
                least
                1
                uppercase</li>
              <li [class.text-success]="!password.errors?.Digit && !password.errors?.required" class="p-0">At least 1
                digit</li>
            </ul>
            <div class="ws-input">
              <input name="password" type="password" placeholder="Confirmation Password"
                class="form-control form-control-sm" formControlName="confirmPassword" />
            </div>
          </div>
          <label class="mt-3 mb-2">Birthday</label>
          <div class='input-group'>
            <div class="ws-input col mt-0 mr-1">
              <mat-select class="form-control form-control-sm" placeholder="Date" formControlName="date">
                <mat-option [value]="n" *ngFor="let n of dateSelector.dates">{{n}}
                </mat-option>
              </mat-select>
            </div>
            <div class="ws-input col mt-0 mr-1">
              <mat-select class="form-control form-control-sm" placeholder="Month" formControlName="month">
                <mat-option [value]="n" *ngFor="let n of dateSelector.months">{{n}}
                </mat-option>
              </mat-select>
            </div>
            <div class="ws-input col mt-0">
              <mat-select class="form-control form-control-sm" placeholder="Year" formControlName="year">
                <mat-option [value]="n" *ngFor="let n of dateSelector.years">{{n}}
                </mat-option>
              </mat-select>
            </div>
          </div>
          <div class="center my-3 row no-gutters px-3">
            <mat-checkbox [color]="'primary'" class="pt-1 mr-2 d-inline-block" style="vertical-align: sub"
              formControlName="receiveInfo">
            </mat-checkbox>
            <label for="receiveInfo" class="col mb-0">
              <span class="font-8">I'd like to receive marketing and policy communications from Wonder Scale and its partners.</span>
              <span class="checkmark"></span>
            </label>
          </div>
          <div class="text-center mb-2 center w-100">
            <button [class]="'btn btn-md btn-block btn-register mb-2'" [disabled]="loading.isRunning()">
              <ws-spinner class="mr-2" *ngIf="loading.isRunning()" [width]="15" [height]="15" [borderWidth]="1" [spinnerColor]="'#b71c1c'"></ws-spinner>Sign up
            </button>
          </div>
          <p class="font-weight-light">Already have a Wonder Scale account? <a class="default"
              href="javascript:void(0)" [routerLink]="[]" [queryParams]="{modal: 'login'}" [queryParamsHandling]="'merge'">Log in</a></p>
        </form>
      </div>
    </div>
  </div>
</div>


<ng-template #successContent>
  <div class="modal-content" style="max-width: 500px;">
    <h3 class="font-weight-bold">Sign up</h3>
    <div class="text-center mt-5 mb-4">
      <span class="far fa-check-circle" style="font-size: 5rem; color:#68DC64"></span>
    </div>
    <p class="text-center mb-5">Account is created successfully.<br />
      Please check your email to activate.
    </p>
    <a href="javascript:void(0)" style="color: #000; font-size: 1.1rem; font-weight: 400"
      [routerLink]="[]" [queryParams]="{modal: 'login'}"><span class="fas fa-chevron-left mr-2"></span>Back to
      login</a>
  </div>
</ng-template>
